---
prefix: ompa_omat
cwd: .
root: . # absolute path

data:
    input: ./input/Fe.poscar
    MateiralID: mp-13
    load_args:
        format: vasp
        index: 0
    cwd: .

calculator:
    calc_type: sevennet
    model: checkpoint.pth 
    dirname: .
    modal: mpa
    calc_args:
        device: cuda

pureFe:
    save: ./pureFe
    run: true
    cont: false
    bulk:
        supercell: [4, 4, 4]
        opt: bulk
        run: true
    vacancy:
        opt: vacancy
        run: true
    surface:
        hkl: ['100', '110', '111']
        supercell: [4, 4, 20]
        vacuum: 10
        opt: surface 
        run: false
    post:
        run: false

carbon:
    save: ./carbon
    run: true
    supercell: [4, 4, 4]
    opt: carbon 
    # config: ./carbon_config.yaml
    label: [a1, a2, b1, b2, b3, c1, c2, d, e, f, g, h, i, j, k]
    cont: false

tm:
    save: ./tm
    run: true
    supercell: [4, 4, 4]
    solute: [Ti, V, Cr, Mn, Fe, Co, Ni, Cu, Zr, Nb, Mo, Tc, Ru, Rh, Pd, Ag, Hf, Ta,
        W, Re, Os, Ir, Pt, Au]
    position:
        base: [1, 0, 0]
        1nn: [0.5, 0.5, 0.5]
        2nn: [1, 1, 0]
        3nn: [0, 0, 1]
        4nn: [0.5, 1.5, 0.5]
        5nn: [0, 1, 1]
    opt: tm 
    cont: false

opt:
    vacancy:
        fmax: 0.0001
        steps: 100000
        optimizer: fire
        cell_filter: unitcell
        mask: [1, 1, 1, 1, 1, 1]
        fix_symm: false
        logfile: ./vc_relax.log

    bulk:
        fmax: 0.0001
        steps: 100000
        optimizer: fire
        cell_filter: unitcell
        mask: [1, 1, 1, 0, 0, 0]
        fix_symm: false
        logfile: ./ortho.log

    carbon:
        fmax: 0.0001
        steps: 100000
        optimizer: fire
        cell_filter: unitcell
        mask: [1, 1, 1, 0, 0, 0]
        fix_symm: false
        logfile: ./ortho.log

    tm:
        fmax: 0.001
        steps: 100000
        optimizer: fire
        cell_filter: unitcell
        mask: [1, 1, 1, 0, 0, 0]
        fix_symm: false
        logfile: ./ortho.log

    surface:
        fmax: 0.0001
        steps: 100000
        optimizer: fire
        fix_symm: false
        logfile: ./relax.log

carbon_config:
    # Figure 2 is misprinted. config d, i and f are interchanged
    # To avoid confusion the script automatically handles this problem
    # febench.carbon will reproduce Table2

    a1:
        carbon: [0.5, 0.5, 0]
        vacancy: [0.5, 0.5, 0.5]
        n_carbon: 1
        n_vacancy: 1

    a2:
        carbon: [1, 0, 0.5]
        vacancy: [0.5, 0.5, 0.5]
        n_carbon: 1
        n_vacancy: 1


    b1:
        carbon: [0.5, 1, 0.5]
        vacancy: [[0.5, 0.5, 0.5], [0.5, 1.5, 0.5]]
        n_carbon: 1
        n_vacancy: 2


    b2:
        carbon: [1, 0.5,0] 
        vacancy: [[0.5, 0.5, 0.5], [0.5, 1.5, 0.5]]
        n_carbon: 1
        n_vacancy: 2

    b3:
        carbon: [0.5, 0, 0.5] 
        vacancy: [[0.5, 0.5, 0.5], [0.5, 1.5, 0.5]]
        n_carbon: 1
        n_vacancy: 2


    c1:
        carbon: [0.5, 0.5, 1]
        vacancy: [[0.5, 0.5, 0.5], [1, 0, 0]]
        n_carbon: 1
        n_vacancy: 2


    c2:
        carbon: [0.5, 0.5, 0]
        vacancy: [[0.5, 0.5, 0.5], [1, 0, 0]]
        n_carbon: 1
        n_vacancy: 2

    d:
        carbon: [[1, 0.5, 0], [0, 1.5, 1]]
        vacancy: []
        n_carbon: 2
        n_vacancy: 0

    e:
        carbon: [[1, 0.5, 0], [0.5, 0.5, 1]]
        vacancy: []
        n_carbon: 2
        n_vacancy: 0

    f:
        carbon: [[0.5, 0.5, 1], [1, 0, 0.5]]
        vacancy: []
        n_carbon: 2
        n_vacancy: 0
 
    g:
        carbon: [[1, 0, 0.5], [1, 1, 0.5]]
        vacancy: []
        n_carbon: 2
        n_vacancy: 0
  
    h:
        carbon: [[0.5, 0.5, 1], [0.5, 1, 0.5]]
        vacancy: []
        n_carbon: 2
        n_vacancy: 0

    i:
        carbon: [[0.5, 0.5, 0], [0.5, 0.5, 1]]
        vacancy: []
        n_carbon: 2
        n_vacancy: 0

    j:
        carbon: [[0.5, 0.5, 0], [0.5, 0.5, 1]]
        vacancy: [0.5, 0.5, 0.5]
        n_carbon: 2
        n_vacancy: 1
  
 
    k:
        carbon: [[0.5, 0.5, 0], [0.5, 0, 0.5]]
        vacancy: [0.5, 0.5, 0.5]
        n_carbon: 2
        n_vacancy: 1
 
 
    l:
        carbon: [[0.5, 0.5, 0.25], [0.5, 0.5, 0.75]]
        vacancy: [0.5, 0.5, 0.5]
        n_carbon: 2
        n_vacancy: 1
 
    m:
        carbon: [[0.5, 0.75, 0.25], [0.5, 0.25, 0.75]]
        vacancy: [0.5, 0.5, 0.5]
        n_carbon: 2
        n_vacancy: 1

...
